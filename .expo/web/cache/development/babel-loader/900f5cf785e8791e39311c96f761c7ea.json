{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/user/Documentos/Git/App_PDS2/src/view/Index/CommunityHouse/index.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Picker } from '@react-native-community/picker';\nimport styles from \"./styles\";\nimport Modal from 'react-native-modal';\nimport { Entypo } from \"@expo/vector-icons\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport EventBody from \"../../../components/EventBody\";\nimport Header from \"../../../components/Header\";\nimport Sv from \"../../../assets/avatar.jpg\";\nimport { SvgUri } from 'react-native-svg';\nimport { BackgroundImage } from 'react-native-elements/dist/config';\nimport { Ionicons } from \"@expo/vector-icons\";\nimport * as ImagePicker from 'expo-image-picker';\nimport Api from \"../../Apis/Map/Api\";\n\nfunction CommunityHouse(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedImage = _useState2[0],\n      setSelectedImage = _useState2[1];\n\n  var handleRegisterButtonClick = function handleRegisterButtonClick() {\n    var json;\n    return _regeneratorRuntime.async(function handleRegisterButtonClick$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(information != '' && coordinate != null && person.id != '')) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Api.registerEvent(type, coordinate.latitude, coordinate.longitude, information, person.id));\n\n          case 3:\n            json = _context.sent;\n\n            if (json.status) {\n              alert(\"Evento cadastrado!\");\n            } else {\n              alert(\"Houve algum erro!\");\n            }\n\n            _context.next = 8;\n            break;\n\n          case 7:\n            alert(\"[*] Campos vazios!\");\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var openImagePickerAsync = function openImagePickerAsync() {\n    var permissionResult, pickerResult, count;\n    return _regeneratorRuntime.async(function openImagePickerAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 2:\n            permissionResult = _context2.sent;\n\n            if (!(permissionResult.granted === false)) {\n              _context2.next = 6;\n              break;\n            }\n\n            alert(\"É necessário dar permissão para acessar a galeria\");\n            return _context2.abrupt(\"return\");\n\n          case 6:\n            _context2.next = 8;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync());\n\n          case 8:\n            pickerResult = _context2.sent;\n\n            if (!(pickerResult.cancelled === true)) {\n              _context2.next = 11;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 11:\n            count = \"localUri\" + selectedImage.length;\n            setSelectedImage(function (selectedImage) {\n              return [].concat(_toConsumableArray(selectedImage), [{\n                count: pickerResult.uri\n              }]);\n            });\n            console.log(selectedImage.length);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _useState3 = useState(\"java\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedValue = _useState4[0],\n      setSelectedValue = _useState4[1];\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, React.createElement(Header, {\n    navigation: navigation,\n    title: \"Casinhas comunit\\xE1rias\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }), React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, React.createElement(EventBody, {\n    color: \"#5cc5c0\",\n    onPress: handleRegisterButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default CommunityHouse;","map":{"version":3,"sources":["/home/user/Documentos/Git/App_PDS2/src/view/Index/CommunityHouse/index.js"],"names":["React","useState","useEffect","useRef","Picker","styles","Modal","Entypo","EventBody","Header","Sv","SvgUri","BackgroundImage","Ionicons","ImagePicker","Api","CommunityHouse","navigation","selectedImage","setSelectedImage","handleRegisterButtonClick","information","coordinate","person","id","registerEvent","type","latitude","longitude","json","status","alert","openImagePickerAsync","requestMediaLibraryPermissionsAsync","permissionResult","granted","launchImageLibraryAsync","pickerResult","cancelled","count","length","uri","console","log","selectedValue","setSelectedValue","container"],"mappings":"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","sourcesContent":["import React, { useState, useEffect,useRef } from 'react';\nimport { Image,View,Button,Text,TouchableOpacity, TextInput } from 'react-native';\nimport { Picker } from '@react-native-community/picker';\nimport styles from \"./styles\";\nimport Modal from 'react-native-modal';\nimport { Entypo } from \"@expo/vector-icons\";\nimport { ScrollView } from 'react-native';\nimport EventBody from '../../../components/EventBody';\nimport Header from \"../../../components/Header\"; \nimport Sv from '../../../assets/avatar.jpg';          // SVG File\nimport { SvgUri } from 'react-native-svg';\nimport { BackgroundImage } from 'react-native-elements/dist/config';\nimport { Ionicons } from \"@expo/vector-icons\";\nimport * as ImagePicker from 'expo-image-picker';\nimport Api from \"../../Apis/Map/Api\";\n\n\nfunction CommunityHouse({ navigation }) {\n\n   \n    const [selectedImage, setSelectedImage] = useState([]);\n\n    const handleRegisterButtonClick = async() =>{\n\n      \n    \n \n      if(  information != '' && coordinate != null  && person.id != '' ){\n\n          \n          let json = await Api.registerEvent(\n\n              type,\n              coordinate.latitude,\n              coordinate.longitude,\n              information,\n              person.id\n              \n          );\n          \n          if( json.status ){\n              \n              alert(\"Evento cadastrado!\");\n\n          }else{\n\n              alert(\"Houve algum erro!\");\n          }\n          \n      }else{\n\n          alert(\"[*] Campos vazios!\");\n      }\n\n    }\n\n\n\n\n\n    let openImagePickerAsync = async () => {\n        let permissionResult = await ImagePicker.requestMediaLibraryPermissionsAsync();\n    \n        if (permissionResult.granted === false) {\n          alert(\"É necessário dar permissão para acessar a galeria\");\n          return;\n        }\n    \n        let pickerResult = await ImagePicker.launchImageLibraryAsync();\n\n        if (pickerResult.cancelled === true) {\n            return;\n        }\n        const count=\"localUri\"+selectedImage.length;\n\n        setSelectedImage((selectedImage)=>[...selectedImage,{ count: pickerResult.uri }]);\n        console.log(selectedImage.length);\n\n    }\n    const [selectedValue, setSelectedValue] = useState(\"java\");\n    return(\n      \n            <View style={ styles.container }>\n              <Header navigation={navigation} title=\"Casinhas comunitárias\" />\n              <ScrollView >\n                <EventBody color=\"#5cc5c0\" onPress={handleRegisterButtonClick}/>\n              </ScrollView>        \n           </View>         \n    );\n}\nexport default CommunityHouse;"]},"metadata":{},"sourceType":"module"}